<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carol & Pedro ğŸ‘«ğŸ»âœ¨</title>

  <link rel="stylesheet" href="./assets/style.css">
  <link rel="stylesheet" href="./assets/modal.css">
</head>
<body>
  <main class="container">
    <img src="./assets/imgs/flower.png" class="header__flowers" alt="flores">
    <section class="header__container">
      <hr>
      <div class="image__container">
        <img src="./assets/imgs/foto-casal.png" class="header__image" alt="foto do casal">
      </div>
      <hr>
    </section>

    <section class="container__content">
      <p class="content__date">11.11.2023 - 17hrs</p>
      <p class="content__couplename">Carol + Pedro</p>
    </section>
    <button type="button" class="button" id="open_confirm_presence">Clique aqui para confirmar sua presenÃ§a</button>
    <button type="button" class="button" id="open_listas_casamento">Clique aqui para acessar a lista de presentes</button>
    <p class="container__text">O convite com todas as informaÃ§Ãµes serÃ¡ entregue em breve!</p>
  </main>

  <form
    class="modal__container"
    id="confirm_presence_modal"
    name="confirm-form"
    method="post"
    action=""
  >
    <div class="modal__backflip"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h2 class="modal__header__text">Confirme sua presenÃ§a</h2>
        <div class="modal__close">x</div>
      </div>

      <div class="modal__body">
        <p class="modal__body__pre_text">
          Estamos animados para compartilhar este dia especial com amigos e familiares.
          Sua presenÃ§a tornarÃ¡ o nosso casamento ainda mais significativo. â£ï¸
          <br><br>

          Esperamos ver vocÃª lÃ¡ para compartilhar o amor e a alegria! ğŸ¥°ğŸ‘«ğŸ»
          <br><br>
        </p>

        <div class="input__group">
          <label for="nome">Digite seu nome logo abaixo e clique em confirmar para confirmarmos sua presenÃ§a. </label>
          <span class="pointer__icon">ğŸ‘‡ğŸ½ğŸ‘‡ğŸ½ğŸ‘‡ğŸ½</span>
          <input type="text" required name="nome" id="nome" placeholder="Ex.: JosÃ© Pedro">
          <input type="hidden" name="data_de_confirmacao" id="data_de_confirmacao">
        </div>
      </div>

      <div class="modal__footer">
        <button class="modal__button modal__cancel__button" type="reset">Cancelar</button>
        <button class="modal__button modal__success__button" type="submit">Confirmar</button>
      </div>
    </div>
  </form>

  <section class="modal__container" id="listas_casamento">
    <div class="modal__backflip"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h2 class="modal__header__text">Listas de Presentes</h2>
        <div class="modal__close">x</div>
      </div>
      <div class="modal__body">

        <div class="listapresentes__content">
          <ul class="store__card__container">
            <li class="store__card" id="distribuidoraRoque" onclick="showGoogleLocation(this)">
              <img src="./assets/imgs/distribuidora-roque.jpeg" alt="Distribuidora Roque" class="logo__image" />
            </li>
            <li class="store__card" id="gigi" onclick="showGoogleLocation(this)">
              <img src="./assets/imgs/gigi-tecidos.jpeg" alt="Gigi Tecidos" class="logo__image" />
            </li>
            <li class="store__card" id="magalu" onclick="magaluClick(this)">
              <img src="./assets/imgs/magalu.jpeg" alt="Magazine Luiza" class="logo__image" />
            </li>
          </ul>
        </div>

        <p class="modal__body__pre_text">Clique nas logos para saber mais... ğŸ’¬</p>

        <div class="googlemaps__location hidden">
          <div class="mapouter">
            <div class="gmap_canvas">
              <iframe
                class="gmap_iframe"
                width="100%"
                frameborder="0"
                scrolling="no"
                marginheight="0"
                marginwidth="0"
                src="https://maps.google.com/maps?width=200&amp;height=200&amp;hl=en&amp;q=distribuidora roque&amp;t=&amp;z=16&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"
              >
              </iframe>
            </div>
          </div>
        </div>


        <p class="modal__body__pre_text">
          Sinta-se Ã  vontade para optar pela que melhor lhe convier.
          Sua presenÃ§a Ã© o nosso maior presente! ğŸ«¶ğŸ»
        </p>
      </div>
      <div class="modal__footer">
        <button class="modal__button modal__cancel__button" type="reset">Fechar</button>
      </div>
    </div>
  </section>


  <script src="./assets/scripts.js"></script>
  <script src="./assets/modal.js"></script>
  <script>
    const getDate = () => {
      const now = new Date

      return `${now.toLocaleDateString()} ${now.toLocaleTimeString()}`
    }

    const dataDeConfirmacaoWidget = document.getElementById("data_de_confirmacao")
    if (dataDeConfirmacaoWidget)
      dataDeConfirmacaoWidget.value = getDate()

    configureModal({modalId: "confirm_presence_modal", buttonId: "open_confirm_presence"})
    configureModal({modalId: "listas_casamento", buttonId: "open_listas_casamento"})

    const distribuidoraRoque = `<iframe class="gmap_iframe" width="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=200&amp;height=200&amp;hl=en&amp;q=distribuidora roque&amp;t=&amp;z=16&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>`
    const gigi = `<iframe class="gmap_iframe" width="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=200&amp;height=200&amp;hl=en&amp;q=crato, gigi tecidos&amp;t=&amp;z=16&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>`
    const magalu = `<iframe class="gmap_iframe" width="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=200&amp;height=200&amp;hl=en&amp;q=crato, magazine luiza&amp;t=&amp;z=16&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>`

    const iframes = {
      distribuidoraRoque,
      gigi,
      magalu
    }

    const magaluClick = (e) => {
      if (confirm("TambÃ©m temos uma lista virtual no magalu. Deseja ver?"))
        window.open("https://www.finalfeliz.de/carol-jpedro", "_blank")

      showGoogleLocation(e)
    }

    const showGoogleLocation = (e) => {
      const actualIframe = iframes[e.id]

      const googleLocaltionWidget = document.querySelector(".googlemaps__location")

      if (googleLocaltionWidget) {
        googleLocaltionWidget.classList.remove("hidden")
        googleLocaltionWidget.querySelector(".gmap_canvas").innerHTML = actualIframe
      }
    }

  </script>

</body>
</html>
